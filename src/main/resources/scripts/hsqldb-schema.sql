DROP SCHEMA catalogue IF EXISTS CASCADE;
CREATE SCHEMA catalogue AUTHORIZATION DBA;
SET SCHEMA catalogue;

DROP TABLE MODELCLASS IF EXISTS;

CREATE TABLE MODELCLASS (
  ID bigint GENERATED BY DEFAULT AS IDENTITY(START WITH 1) PRIMARY KEY,
  CODE varchar(256) NOT NULL,
  TITRE varchar(256) NOT NULL,
  DUREE int,
  UPDATE_DATE timestamp
);

CREATE TABLE MODELCLASS_THEME (
  ID bigint GENERATED BY DEFAULT AS IDENTITY(START WITH 1) PRIMARY KEY,
  modelclassID bigint,
  THEME varchar(256) NOT NULL,
  FOREIGN KEY (modelclassID) REFERENCES MODELCLASS (ID)
);

CREATE TABLE LINKED_MODELCLASS (
  parentID bigint,
  childID bigint,
  FOREIGN KEY (parentID) REFERENCES MODELCLASS (ID),
  FOREIGN KEY (childID) REFERENCES MODELCLASS (ID)
);